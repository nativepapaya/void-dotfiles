2020-12-06 14:36:33	-->	nativepapaya (~nativepap@c-73-10-14-85.hsd1.nj.comcast.net) has joined #voidlinux
2020-12-06 14:36:33	--	Topic for #voidlinux is "The Void Linux distribution https://www.voidlinux.org || images: https://alpha.de.repo.voidlinux.org/live/current || Getting Started: https://docs.voidlinux.org/xbps/ && https://docs.voidlinux.org/config/services/"
2020-12-06 14:36:34	--	Topic set by maldridge (~maldridge@69.13.217.92) on Sun, 02 Aug 2020 16:02:44
2020-12-06 14:36:34	--	Channel #voidlinux: 417 nicks (0 ops, 0 voices, 417 normals)
2020-12-06 14:36:34	--	URL for #voidlinux: https://www.voidlinux.org
2020-12-06 14:36:34	--	Channel created on Thu, 23 Jul 2015 03:32:22
2020-12-06 14:36:37	tvtoon	I think the SSD is "smarter" in that sense
2020-12-06 14:36:41	ericonr	I kinda want to blame btrfs, since sometimes I can mount the EFI partition at the start of the disk
2020-12-06 14:36:56	ericonr	s/EFI/FAT/
2020-12-06 14:37:33	tvtoon	it can't be the partition, the kernel can read the table just fine
2020-12-06 14:37:34	nonchip	maybe the btrfs mounting needs to read more at once
2020-12-06 14:39:03	ericonr	all my external drives have btrfs :/
2020-12-06 14:39:03	nonchip	i had a similar issue with an usb 2 device a while ago, i got a 10cm usb extension cord (yes somehow those exist), cut that open and put a beefy capacitor between 5V and ground, then plugged the device into that, that was enough to catch any current spikes :P
2020-12-06 14:39:34	ericonr	yeah the cable is indeed pretty long
2020-12-06 14:39:58	ericonr	I'm wondering if i could blacklist the btrfs kernel modules
2020-12-06 14:41:03	<--	chiastre (~chiastre@gateway/tor-sasl/chiastre) has quit (Ping timeout: 240 seconds)
2020-12-06 14:41:22	nonchip	not what i meant (my point was about the capacitor working to buffer any sudden power draws because the device was designed badly), but yeah the longer the cable, the higher its resistance, and the higher its resistance the more the voltage drops per current drawn, so that might explain it. maybe your other external drive just have bigger capacitors internally to buffer that out but the small one doesn't
2020-12-06 14:42:00	-->	waleee-cl (uid373333@gateway/web/irccloud.com/x-tqnfaghjotgdglyd) has joined #voidlinux
2020-12-06 14:42:46	-->	bL3h (~bL3h@gateway/tor-sasl/bl3h) has joined #voidlinux
2020-12-06 14:43:09	-->	chiastre (~chiastre@gateway/tor-sasl/chiastre) has joined #voidlinux
2020-12-06 14:43:11	<--	Acacia (~Acacia@unaffiliated/acacia) has quit (Remote host closed the connection)
2020-12-06 14:43:23	-->	Acacia (~Acacia@unaffiliated/acacia) has joined #voidlinux
2020-12-06 14:43:26	ericonr	I extrapolated from your mention of power draw to the cable being long; instead of a capacitor, it could be that a shorter cable would also solve the issue
2020-12-06 14:43:35	nonchip	yup
2020-12-06 14:44:03	ericonr	I could just solder a capacitor into the enclosure, tho.......
2020-12-06 14:44:18	ericonr	I have a couple beefy boys here
2020-12-06 14:45:04	ksynwa	shouldn't you measure the current or something like that before you solder capacitors?
2020-12-06 14:45:27	-->	david2 (~david2@212-186-25-215.cable.dynamic.surfer.at) has joined #voidlinux
2020-12-06 14:45:59	nonchip	the current doesn't matter much, as long as the voltage is within spec
2020-12-06 14:46:27	ksynwa	hmm true
2020-12-06 14:47:51	nonchip	somewhere along a 1mF elko sounds fine to me (and please get a cap rated *above*, not just at, 5V).
2020-12-06 14:49:01	nonchip	and if you want to be real fancy and have a real fast response, add a 1uF ceramic cap in parallel
2020-12-06 14:49:37	 *	ericonr likes running capacitors at their voltage rating
2020-12-06 14:50:04	ksynwa	what does the ceramic cap do exactly?
2020-12-06 14:50:16	ericonr	helps with the high frequency response
2020-12-06 14:50:28	nonchip	it can react faster to fluctuations but has a lower capacity
2020-12-06 14:50:45	ericonr	steeper current draw jumps need to be answered fast, and the ceramic can do that
2020-12-06 14:51:02	ksynwa	nice. thanks.
2020-12-06 14:51:23	ericonr	hm, the board isn't even fully populated here
2020-12-06 14:51:30	nonchip	so you often see a high capacity electrolytic (i just realized "elko" isn't an english abbreviation at all) and a lower capacity ceramic next to each other to smooth out both high current and high frequency fluctuations
2020-12-06 14:51:53	nonchip	ericonr: lemme guess, there's empty cap footprints :'D
2020-12-06 14:52:11	ericonr	at least one big inductor...
2020-12-06 14:52:29	-->	roarde (~roarde@pdpc/supporter/active/roarde) has joined #voidlinux
2020-12-06 14:52:43	ericonr	what would they need a regulator for here
2020-12-06 14:52:53	nonchip	hm sounds like maybe for a DC/DC converter or denoising, maybe they built a version with optional barrel plug power supply
2020-12-06 14:53:36	ericonr	hmm, there is something that could be a barrel plug footprint indeed
2020-12-06 14:53:59	nonchip	yeah they probably only spun one board for both versions and just left the parts out for the "no barrel plug" version
2020-12-06 14:54:22	nonchip	is often done in high volume production because it's cheaper to make a bunch of a single board than 2 different ones
2020-12-06 14:54:34	ericonr	and a single stencil for everything, because there's solder in those footprints
2020-12-06 14:54:40	nonchip	yeah
2020-12-06 14:54:46	ericonr	s/footprints/pads/
2020-12-06 14:55:13	nonchip	and especially for something like an optional power supply you just have to literally leave out the parts and it won't mess with anything
2020-12-06 14:55:35	ericonr	well, the extra tracks could be antenna-y
2020-12-06 14:55:50	nonchip	yeah but they'd be attached to a "stable" 5V DC trace
2020-12-06 14:56:42	nonchip	would be more of an issue for high speed data lines, but the worst an unconnected power trace is gonna be is stray capacitance, and you *want* capacitance on your power traces :P
2020-12-06 14:56:43	ericonr	heh, there's a solder bridge between two sata pins
2020-12-06 14:56:53	ericonr	let's see if that's ok
2020-12-06 14:57:10	ericonr	nonchip: yeah, I was mostly kidding :D
2020-12-06 14:57:11	<--	Lucas8037 (~Lucas8037@gateway/tor-sasl/lucas8037) has quit (Quit: leaving)
2020-12-06 14:57:33	nonchip	solder bridge between sata? sounds sus
2020-12-06 14:58:24	whatisthematrix[	** voted to kick off sata solder bridge**
2020-12-06 14:58:59	keegan1	nonchip: so, I've gotten through most of that guide now but the fstab was a bit confusing, this is a removable device so there's no block device UUID, nor will I know the dev id when it is plugged into a computer. I also tried to install EFI with grub-install --removable, but i'm still getting grub-install: error: cannot find a device for /boot/EFI (is /dev mounted?).
2020-12-06 14:59:18	ericonr	nonchip: it's fine, last two pins are +12V according to https://pinoutguide.com/Power/sata-power_pinout.shtml
2020-12-06 14:59:26	ericonr	which means they shouldn't even be used here
2020-12-06 14:59:45	nonchip	"removable device so there's no block device UUID" but there should be one on the partitions.
2020-12-06 14:59:54	nonchip	and, well, is /dev mounted? :P
2020-12-06 15:00:23	keegan1	lol yeah mounted /dev and "Installation finished. No error reported." oooops
2020-12-06 15:00:33	nonchip	there ya go
2020-12-06 15:00:55	keegan1	"but there should be one on the partitions." can you elaborate on this ? i don't understand
2020-12-06 15:01:12	nonchip	ericonr: well ok yeah then that should be fine
2020-12-06 15:01:19	keegan1	blkid is not showing /dev/sdc which is the usb device
2020-12-06 15:01:20	nonchip	keegan1: well each partition has a UUID
2020-12-06 15:01:39	nonchip	you just mounted /dev, did you blkid since then? ;)
2020-12-06 15:02:03	keegan1	well in the chroot blkid is empty, outside it doesn't show either
2020-12-06 15:02:23	nonchip	ok that's weird. is the drive partitioned & formatted?
2020-12-06 15:02:44	keegan1	Device     Boot   Start      End  Sectors  Size Id Type
2020-12-06 15:02:45	keegan1	/dev/sdc1          2048  1050623  1048576  512M  c W95 FAT32 (LBA)
2020-12-06 15:02:47	keegan1	/dev/sdc2       1050624 30719999 29669376 14.1G 83 Linux
2020-12-06 15:02:49	keegan1	that's from fdisk^
2020-12-06 15:03:36	nonchip	and /dev/sdc{1,2} don't show up in blkid?
2020-12-06 15:03:52	keegan1	lmao ... `sudo blkid` i'm an idiot. sorry
2020-12-06 15:04:20	ericonr	welp, I'm not comfortable soldering that with the iron I have here
2020-12-06 15:04:21	keegan1	yeah it appears now i was just not running it with proper permissions. i will amend my fstab now. thanks for your help
2020-12-06 15:04:24	ericonr	no caps for me, then
2020-12-06 15:04:33	nonchip	ah ok permissions. yeah didn't think of that, weirdly i'm allowed to see the IDs without root
2020-12-06 15:04:37	nonchip	ericonr: why?
2020-12-06 15:04:57	ericonr	old and very big tip
2020-12-06 15:05:17	ericonr	the solder in the sata connector looks to be lead free, too
2020-12-06 15:05:46	ericonr	which would be the easiest place to put the cap
2020-12-06 15:05:53	<--	little-nemo (~little-ne@2a01:cb14:cd8:c300:92ea:82fd:3968:db55) has quit (Remote host closed the connection)
2020-12-06 15:05:59	nonchip	probably on the unpopulated output of the DC/DC circuit
2020-12-06 15:06:38	ericonr	hm, fair
2020-12-06 15:06:44	ericonr	lemme get a multimeter
2020-12-06 15:06:56	nonchip	just check for continuity between the USB power lines and anything big-ish (or spaced apart enough for you to solder) there, should be nice pads for you to plonk stuff on without accidentally desoldering anything already there
2020-12-06 15:08:18	nonchip	i wish i was just dealing with a glitchy power supply /o\ currently arguing with a timer chip whether or not it should remember the value i stored in its register instead of always overriding 2 of the bits with 1s....
2020-12-06 15:08:55	nonchip	oh and it's a timer chip from 1987, so yeah i suspect it just died of old age (something something electromigration or whatever)
2020-12-06 15:09:34	ericonr	there is a nearby cap with a ground pad, at least
2020-12-06 15:09:44	ericonr	if its other side is 5V, I struck gold
2020-12-06 15:09:52	nonchip	essentially what happens is "hey timer chip, give me an interrupt on address 05 in a minute" - "will do *waits a minute* here's your interrupt on address C5"
2020-12-06 15:12:45	<--	ndowens (~ndowens@066-168-233-114.biz.spectrum.com) has quit (Quit: WeeChat 3.0)
2020-12-06 15:13:16	ericonr	well, that's what you get when using old stuff :P
2020-12-06 15:13:20	<--	dvl31 (b236ff8a@178.54.255.138) has quit (Remote host closed the connection)
2020-12-06 15:13:29	nonchip	building a Z80 computer :P
2020-12-06 15:13:54	nonchip	good thing is, zilog actually still makes those chips, so i ordered a new one for 6 bucks
2020-12-06 15:14:03	ericonr	ouch
2020-12-06 15:14:08	nonchip	but as you can imagine, was very annoying to debug
2020-12-06 15:14:22	nonchip	nah 6 bucks for a chip i only need one of in the whole system is fine
2020-12-06 15:14:51	nonchip	it's just meant to generate a baudrate for the serial port and interrupt every so often for timekeeping
2020-12-06 15:15:29	ericonr	6 bucks feels quite expensive for that functionality
2020-12-06 15:15:53	tvtoon	ZOMG FPGA!
2020-12-06 15:16:01	nonchip	true but it's 6 bucks for a factory-new part of a very exotic (nowadays) chip
2020-12-06 15:16:03	ericonr	the $15 chip I used was for BMS stuff
2020-12-06 15:16:31	ericonr	that whole thing was rather expensive, tbh
2020-12-06 15:17:00	ericonr	SPI isolation was around $3 per chip
2020-12-06 15:17:02	nonchip	tvtoon: the "mightiest" logic i use in that design are GALs, i specifically wanted to avoid anything "too modern" there, to get the whole authentic feeling
2020-12-06 15:17:10	ericonr	+ the isolated DC-DC converters
2020-12-06 15:17:29	--	irc: disconnected from server
2020-12-06 15:18:20	-->	nativepapaya (~nativepap@c-73-10-14-85.hsd1.nj.comcast.net) has joined #voidlinux
2020-12-06 15:18:21	--	Topic for #voidlinux is "The Void Linux distribution https://www.voidlinux.org || images: https://alpha.de.repo.voidlinux.org/live/current || Getting Started: https://docs.voidlinux.org/xbps/ && https://docs.voidlinux.org/config/services/"
2020-12-06 15:18:21	--	Topic set by maldridge (~maldridge@69.13.217.92) on Sun, 02 Aug 2020 16:02:44
2020-12-06 15:18:21	--	Channel #voidlinux: 417 nicks (0 ops, 0 voices, 417 normals)
2020-12-06 15:18:21	--	URL for #voidlinux: https://www.voidlinux.org
2020-12-06 15:18:21	--	Channel created on Thu, 23 Jul 2015 03:32:22
2020-12-06 15:18:25	ericonr	argh
2020-12-06 15:18:53	nonchip	done lots of SMD designs, but wanted that whole "old style" feeling in this project
2020-12-06 15:19:51	nonchip	in case you're interested: https://gitlab.com/nonchip/nz80mod/ has nice renderings of the boards
2020-12-06 15:20:54	<--	drmbls (~marius@78-56-83-14.static.zebra.lt) has quit (Quit: WeeChat 2.9)
2020-12-06 15:20:55	ericonr	kicad's ray tracer is pretty eat
2020-12-06 15:20:57	ericonr	neat
2020-12-06 15:21:05	ericonr	btw, are you missing anything from 5.1.8?
2020-12-06 15:21:28	nonchip	just 2 caveats there the "ram extension" board will be thrown out and completely redesigned because i used a horribly inefficient to work with method for mapping the memory there, the "cpu board" will get a minor change in the next revision too to allow for wider oscillator packages
2020-12-06 15:21:47	nonchip	ericonr: not really, why?
2020-12-06 15:22:14	ericonr	because I haven't updated yet
2020-12-06 15:22:26	ericonr	the void package is stuck at 5.1.7 at the moment :P
2020-12-06 15:22:51	nonchip	i mean the only thing i'm missing in general is an autorouter, but freerouting ftw
2020-12-06 15:23:19	nonchip	oh in that case i haven't even used 5.1.8 yet, i'm on the xbps version :P
2020-12-06 15:23:38	ericonr	heh, I'm not sure kicad will ever have native autorouter
2020-12-06 15:23:59	nonchip	i somehow think it had a really crappy one in the past
2020-12-06 15:24:09	nonchip	but export, freerouting, reimport works just fine
2020-12-06 15:33:59	<--	pinote (~pinote@187.59.236.108) has quit (Quit: Leaving)
2020-12-06 15:40:00	--	irc: disconnected from server
2020-12-06 18:37:23	-->	nativepapaya (~nativepap@c-73-10-14-85.hsd1.nj.comcast.net) has joined #voidlinux
2020-12-06 18:37:23	--	Topic for #voidlinux is "The Void Linux distribution https://www.voidlinux.org || images: https://alpha.de.repo.voidlinux.org/live/current || Getting Started: https://docs.voidlinux.org/xbps/ && https://docs.voidlinux.org/config/services/"
2020-12-06 18:37:23	--	Topic set by maldridge (~maldridge@69.13.217.92) on Sun, 02 Aug 2020 16:02:44
2020-12-06 18:37:23	--	Channel #voidlinux: 415 nicks (0 ops, 0 voices, 415 normals)
2020-12-06 18:37:23	--	Channel created on Thu, 23 Jul 2015 03:32:22
2020-12-06 18:37:23	--	URL for #voidlinux: https://www.voidlinux.org
2020-12-06 18:38:55	<--	gspe (~gspe@94-36-116-172.adsl-ull.clienti.tiscali.it) has quit (Ping timeout: 272 seconds)
2020-12-06 18:39:12	cameronnemo	breavyn: ah rip. Please file a github issue.
2020-12-06 18:39:22	cameronnemo	If you don't mind
2020-12-06 18:39:25	-->	jellyb (~h.novak@gateway/tor-sasl/jellyb) has joined #voidlinux
2020-12-06 18:40:40	<--	_0x1bi_ (~ben@0x1bi.net) has quit (Remote host closed the connection)
2020-12-06 18:41:15	breavyn	about to go to work for 8 hours, but after I'll look into it. see if i can bissect the cause
2020-12-06 18:42:22	<--	_0bitcount (~Big_Byte@90.162.105.206) has quit (Quit: Leaving)
2020-12-06 18:51:57	keegan1	nonchip: so I installed debian on the arm board so that I could try to install void linux to the usb disk , and now `xbps-reconfigure -fa` runs, but still there is no vmlinuz or initram during the configure phase it says : "Found linux image: /boot/vmlinux-5.9.12_2" and "Found Debian GNU/Linux 10 (buster) on /dev/sda2" ... I think I need to bypass whatever xbps is doing because it is not
2020-12-06 18:51:59	keegan1	generating what i need. i
2020-12-06 18:52:06	keegan1	*i'm going to read up on dracut and see if I can just do it myself
2020-12-06 18:52:24	<--	sgn1 (~sgn@2402:800:63a8:f620:f4c6:8f9f:4d24:34ca) has quit (Ping timeout: 240 seconds)
2020-12-06 18:52:39	keegan1	perhaps because it's a chroot setup there is no phase to build the image ? not sure how this typically works
2020-12-06 18:53:50	<--	jellyb (~h.novak@gateway/tor-sasl/jellyb) has quit (Remote host closed the connection)
2020-12-06 18:54:25	keegan1	are you KIDDING ME ??? dracut wasn't even installed ... I installed it and re-ran xbps-reconfigure and now it shows "Executing post-install kernel hook: 20-dracut ..."
2020-12-06 18:56:11	-->	iskander- (~iskander@45.135.187.33) has joined #voidlinux
2020-12-06 18:56:29	keegan1	yep now there's a initramfs-5.9.12_2.img. is there a missing package in base-system or should this be a PR to to the documentation ? cc nonchip  ... can't believe that was the problem LOL
2020-12-06 18:56:35	<--	iskander (~iskander@45.135.187.33) has quit (Ping timeout: 265 seconds)
2020-12-06 18:57:31	aedinius	dracut is pulled in by the kernel package, not base-system
2020-12-06 18:57:45	aedinius	linux or linux-lts
2020-12-06 18:58:06	keegan1	yeah, I installed `linux` and it did not intsall `dracut`
2020-12-06 18:58:31	aedinius	Did you install a specific kernel version?
2020-12-06 18:58:35	aedinius	like linux5.9
2020-12-06 18:58:41	keegan1	nope, `xbps-install linux` did not install dracut
2020-12-06 18:58:46	aedinius	I doubt that
2020-12-06 18:59:06	aedinius	xbps-query -Rx linux
2020-12-06 18:59:18	keegan1	https://github.com/void-linux/void-packages/blob/master/srcpkgs/linux/template#L20-L23
2020-12-06 18:59:20	keegan1	nope, it doesn't
2020-12-06 18:59:28	keegan1	it is not listed as a dependency which is a BUG i assume
2020-12-06 18:59:44	aedinius	ooh, arm
2020-12-06 19:00:00	aedinius	because most arm boards don't use linux kernel
2020-12-06 19:00:06	<--	atk (~Arch-TK@ircpuzzles/staff/Arch-TK) has quit (Quit: Well this is unexpected.)
2020-12-06 19:00:16	aedinius	Hm, I think it should be listed there
2020-12-06 19:00:27	-->	atk (~Arch-TK@ircpuzzles/staff/Arch-TK) has joined #voidlinux
2020-12-06 19:00:31	<--	goberghen (~goberghen@unaffiliated/goberghen) has quit (Quit: kthxbye)
2020-12-06 19:00:36	aedinius	I mean they don't use standard kernel
2020-12-06 19:01:04	-->	jellyb (~h.novak@gateway/tor-sasl/jellyb) has joined #voidlinux
2020-12-06 19:01:41	keegan1	i can pr adding all those same fields for arm/aarch64 then and discus
2020-12-06 19:02:23	aedinius	pr would be good
2020-12-06 19:06:55	-->	cinerea0 (~cinerea0@cpe-142-105-137-169.nycap.res.rr.com) has joined #voidlinux
2020-12-06 19:08:10	--	irc: disconnected from server
